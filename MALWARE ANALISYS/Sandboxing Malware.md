---
tags:
  - MALWARE-ANALISYS
---
As sandboxes de malware permitem que os especialistas em segurança cibernética analisem amostras de malware de forma segura e automatizada. Muitas soluções modernas realizarão *análises estáticas* e dinâmicas para identificar indicadores de comprometimento, fornecerão informações detalhadas sobre as comunicações de rede e as ações realizadas pelo software mal-intencionado.

O **sandboxing de malware** é uma técnica utilizada por profissionais de segurança cibernética para ==analisar softwares mal-intencionados e potencialmente perigosos==. A ideia por trás dela é bastante simples: criar um ambiente "murado" seguro (uma máquina virtual, que nesse contexto é chamada de sandbox) e *deixar o malware fazer o que deveria fazer*. Dessa forma, os defensores podem coletar indicadores de comprometimento (ou IOCs, na sigla em inglês) sem o risco de infectar seus sistemas.

No entanto, hoje em dia, você raramente precisaria rodar uma máquina virtual para analisar um malware - há muitas soluções excelentes de sandbox automatizadas que permitem enviar suas amostras de malware para análise on-line. Com a ajuda de ferramentas como [Hybrid Analysis](https://www.hybrid-analysis.com/), [Cuckoo](https://cuckoosandbox.org/) e [AnyRun](https://any.run/), você pode enviar arquivos maliciosos e URLs para análise gratuitamente e obter resultados em minutos. 

# Submetendo o malware para análise

A Hybrid Analysis permite que você analise arquivos e URLs em busca de atividades mal-intencionadas. Ele faz referência cruzada a dezenas de provedores de inteligência de segurança para reunir informações sobre possíveis IOCs e tipos de malware relacionados.

Para enviar um arquivo para análise, abra o site `hybrid-analysis.com` no seu navegador e simplesmente **arraste e solte o arquivo malicioso localizado na sua área de trabalho** chamado x64_install.bin na seção Upload da página da Web. Aceite os termos e condições e resolva o CAPTCHA, se necessário, e clique em Continue. A próxima tela solicitará que você configure o ambiente de análise e as opções de tempo de execução. Defina o ambiente de análise como Windows 7 64bit e clique em Generate Public Report, deixando as opções de tempo de execução definidas com os valores padrão.

Depois de enviar um arquivo para análise, a ferramenta o redireciona automaticamente para a página Analysis Overview (Visão geral da análise). É aqui que você pode encontrar todas as informações básicas sobre o arquivo, incluindo

- Tipo de arquivo,
- Hash SHA256,
- Pontuação de detecção de antivírus,
- Avaliação geral sobre se o arquivo é malicioso ou não.

# Examinando Resultados
Pode levar alguns minutos para que a ferramenta execute as verificações iniciais que aparecem na seção **Resultados do antivírus**, portanto, enquanto espera, você pode clicar em Exibir detalhes em uma das guias dos provedores na seção Resultados do antivírus. Isso abrirá uma janela de todos os fornecedores de antivírus com os quais o arquivo foi verificado e também fornecerá o nome com o qual esses fornecedores associam esse arquivo, o que pode lhe dar uma ideia inicial do tipo e da variedade de malware com o qual você pode estar lidando.

Quando os resultados da análise da área restrita aparecerem na seção Relatórios da área restrita do Falcon (localizada logo abaixo da seção de antivírus da página), você verá um relatório gerado, como este:

Análise concluída

Agora você pode clicar na visualização da análise, o que o levará à página do relatório, que consiste em várias seções que você precisa percorrer uma a uma para concluir o módulo.

## Resposta a incidentes
A primeira seção do relatório é intitulada Resposta a incidentes e consiste em duas partes:

- **Avaliação de risco**, que fornece o resumo do que o malware está fazendo na máquina infectada;
- **Mapeamento MITRE ATT&CK** das técnicas usadas pelo arquivo malicioso (você pode clicar no botão *Exibir* todos os detalhes para ver o mapeamento completo). Essa seção, por si só, é suficiente para lhe dar uma ideia das TTPs usadas pelo malware. Outras seções do relatório, no entanto, são muito úteis para coletar informações mais específicas, como identificar os servidores C2 do invasor e os nomes de processos/arquivos criados e modificados pelo malware.

Dê uma olhada na seção Resposta a Incidentes do relatório para obter algum conhecimento sobre o que o malware está fazendo.

## Indicadores

A próxima seção do relatório é Indicators (Indicadores), que é exatamente isso: uma lista de **indicadores de comprometimento**. Essa seção é dividida em três partes com base no grau de suspeita de determinada atividade: **Indicadores maliciosos**, **Indicadores suspeitos** e **Informativos**.

- **Malicious Indicators**: Inclui todas as atividades que podem ser consideradas sinais de alerta imediatamente, como a execução de comandos do PowerShell e a extração de arquivos de hosts remotos. 
-  **Suspicious Indicators** - Contém atividades ou técnicas utilizadas pelo malware que parecem questionáveis, mas a ferramenta de análise não tem tanta certeza quanto à sua malícia. No entanto, lembre-se de que algumas dessas técnicas podem parecer obviamente mal-intencionadas para um analista humano, portanto, não pule essa parte do relatório. 
- **Parte Informativa da seção Indicadores**: Contém a lista de todas as técnicas e atividades detectadas realizadas pelo malware. Essa parte pode ser especialmente extensa, portanto, normalmente, você apenas a examinaria brevemente, pois é provável que a ferramenta já tenha detectado e marcado todos os indicadores notoriamente ruins na parte anterior da lista de Indicadores.